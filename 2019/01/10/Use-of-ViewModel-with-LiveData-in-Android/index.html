<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"wolfhan.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.14.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="In Android Architecture Components,  ViewModel and LiveData are used to change values and notify   observables with respect to android lifecycle.   The ViewModel class is designed to store and manage">
<meta property="og:type" content="article">
<meta property="og:title" content="Use of ViewModel with LiveData in Android">
<meta property="og:url" content="https://wolfhan.github.io/2019/01/10/Use-of-ViewModel-with-LiveData-in-Android/index.html">
<meta property="og:site_name" content="Kite Runner">
<meta property="og:description" content="In Android Architecture Components,  ViewModel and LiveData are used to change values and notify   observables with respect to android lifecycle.   The ViewModel class is designed to store and manage">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-01-10T00:21:58.000Z">
<meta property="article:modified_time" content="2023-01-08T13:40:56.264Z">
<meta property="article:author" content="Wolf Han">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://wolfhan.github.io/2019/01/10/Use-of-ViewModel-with-LiveData-in-Android/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://wolfhan.github.io/2019/01/10/Use-of-ViewModel-with-LiveData-in-Android/","path":"2019/01/10/Use-of-ViewModel-with-LiveData-in-Android/","title":"Use of ViewModel with LiveData in Android"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Use of ViewModel with LiveData in Android | Kite Runner</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Kite Runner</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Ever tried, ever failed. No matter, try again, fail again, fail better.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#How-to-use-ViewModel-with-LiveData"><span class="nav-number">1.</span> <span class="nav-text">How to use ViewModel with LiveData</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Wolf Han</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">1</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">categories</span>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://wolfhan.github.io/2019/01/10/Use-of-ViewModel-with-LiveData-in-Android/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Wolf Han">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kite Runner">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Use of ViewModel with LiveData in Android | Kite Runner">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Use of ViewModel with LiveData in Android
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-01-10 00:21:58" itemprop="dateCreated datePublished" datetime="2019-01-10T00:21:58+00:00">2019-01-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-01-08 13:40:56" itemprop="dateModified" datetime="2023-01-08T13:40:56+00:00">2023-01-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/android/" itemprop="url" rel="index"><span itemprop="name">android</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>In <a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/architecture/">Android Architecture Components</a>,  <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> and <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> are used to change values and notify   observables with respect to android lifecycle. </p>
<blockquote>
<p>The <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> class is designed to store and manage UI-related data in a lifecycle conscious way. The <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> class allows data to survive configuration changes such as screen rotations.</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> is an observable data holder class. Unlike a regular observable, LiveData is lifecycle-aware, meaning it respects the lifecycle of other app components, such as activities, fragments, or services. This awareness ensures LiveData only updates app component observers that are in an active lifecycle state.</p>
</blockquote>
<span id="more"></span>

<h3 id="How-to-use-ViewModel-with-LiveData"><a href="#How-to-use-ViewModel-with-LiveData" class="headerlink" title="How to use ViewModel with LiveData"></a>How to use ViewModel with LiveData</h3><p>Follow these steps to work with <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> and <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> objects:</p>
<ol>
<li><p>Create an instance of <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> to hold a certain type of data. This is usually done within your <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/ViewModel.html"><code>ViewModel</code></a> class.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NameViewModel</span> : <span class="type">ViewModel</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create a LiveData with a String</span></span><br><span class="line">    <span class="keyword">val</span> currentName: MutableLiveData&lt;String&gt; <span class="keyword">by</span> lazy &#123;</span><br><span class="line">        MutableLiveData&lt;String&gt;()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Rest of the ViewModel...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Create an <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/Observer.html"><code>Observer</code></a> object that defines the <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/Observer.html#onChanged(T)"><code>onChanged()</code></a> method, which controls what happens when the <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> object’s held data changes. You usually create an <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/Observer.html"><code>Observer</code></a> object in a UI controller, such as an activity or fragment.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NameActivity</span> : <span class="type">AppCompatActivity</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> mModel: NameViewModel</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Other code to setup the activity...</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Get the ViewModel.</span></span><br><span class="line">        mModel = ViewModelProviders.of(<span class="keyword">this</span>).<span class="keyword">get</span>(NameViewModel::<span class="keyword">class</span>.java)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Create the observer which updates the UI.</span></span><br><span class="line">        <span class="keyword">val</span> nameObserver = Observer&lt;String&gt; &#123; newName -&gt;</span><br><span class="line">            <span class="comment">// Update the UI, in this case, a TextView.</span></span><br><span class="line">            mNameTextView.text = newName</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Observe the LiveData, passing in this activity as the LifecycleOwner and the observer.</span></span><br><span class="line">        mModel.currentName.observe(<span class="keyword">this</span>, nameObserver)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Attach the <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/Observer.html"><code>Observer</code></a> object to the <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> object using the <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html#observe(android.arch.lifecycle.LifecycleOwner,%0Aandroid.arch.lifecycle.Observer%3CT%3E)"><code>observe()</code></a> method. The <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html#observe(android.arch.lifecycle.LifecycleOwner,%0Aandroid.arch.lifecycle.Observer%3CT%3E)"><code>observe()</code></a> method takes a <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner.html"><code>LifecycleOwner</code></a> object. This subscribes the <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/Observer.html"><code>Observer</code></a> object to the <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/LiveData.html"><code>LiveData</code></a> object so that it is notified of changes. You usually attach the <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/arch/lifecycle/Observer.html"><code>Observer</code></a> object in a UI controller, such as an activity or fragment.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mButton.setOnClickListener &#123;</span><br><span class="line">    <span class="keyword">val</span> anotherName = <span class="string">&quot;John Doe&quot;</span></span><br><span class="line">    mModel.currentName.setValue(anotherName)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>This is a simple example that shows you how to use ViewModel and LiveData in Android. You can find more details in <a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/architecture/livedata">this</a>.</p>

    </div>

    
    
    

    <footer class="post-footer">

        

    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wolf Han</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
